{% extends 'blog/base.html' %}
{% load static %}
{% block title %}{{ post.title }}-罗宇成的博客{% endblock %}

{% block head %}
<link href="{% static 'mdeditor/css/editormd.min.css' %}" rel="stylesheet">
<link href="{% static 'mdeditor/css/editormd.preview.css' %}" rel="stylesheet">

<style>
  .post-card{
    background-color: #fff;
    min-height: 100px;
    padding-bottom: 50px;
  }

  .post-card-title{
    font-size: 32px;
    padding: 30px 20px 10px 20px;
  }
</style>
{% endblock %}

{% block content %}
<div class="post-card">
<h1 class="post-card-title">{{ post.title }}</h1>
<hr>
<div> 
  <div id="content"><textarea>{{ post.content }}</textarea></div>
</div>
</div>
  <script src="{% static 'mdeditor/js/jquery.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/editormd.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/marked.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/prettify.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/raphael.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/underscore.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/sequence-diagram.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/flowchart.min.js' %}"></script>
  <script src="{% static 'mdeditor/js/lib/jquery.flowchart.min.js' %}"></script>
<script>
  $(function () {
      // js 解析markdown
      editormd.markdownToHTML("content", {
          //htmlDecode      : "style,script,iframe",  // you can filter tags decode
          emoji           : true,
          taskList        : true,
          tex             : true,  // 默认不解析
          flowChart       : true,  // 默认不解析
          sequenceDiagram : true,  // 默认不解析
      });

      $(".reference-link").each(function (i,obj) {
        console.log(obj)
      })
  })
</script>
{% endblock %}